<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Credibe â€¢ Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Chart.js (for spending + analytics charts) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- Base styles + new dashboard skin -->
  <style>
    :root {
      --bg-body: #050816;
      --shell-bg: #050816;
      --card-bg: #070f1f;
      --card-elevated: #0b1629;
      --accent: #00d4ff;
      --accent-soft: rgba(0, 212, 255, 0.16);
      --ink-main: #f9fbff;
      --ink-sub: #a6b4d5;
      --ink-muted: #6b7280;
      --border-card: rgba(255, 255, 255, 0.04);
      --radius-lg: 22px;
      --radius-md: 18px;
      --shadow-card: 0 18px 45px rgba(0, 0, 0, 0.7);
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background:
        radial-gradient(circle at top, #111827 0, #050816 52%) fixed;
      color: var(--ink-main);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Inter", sans-serif;
    }

    .hidden {
      display: none !important;
    }

    /* Shell */
    .app-shell {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .app-main {
      flex: 1;
      padding: 20px 16px 32px;
    }

    /* Top bar */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 16px 6px;
    }

    .top-brand {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 15px;
      font-weight: 600;
    }

    .top-logo {
      width: 18px;
      height: 18px;
      border-radius: 6px;
      border: 1px solid rgba(0, 212, 255, 0.3);
      display: grid;
      place-items: center;
      font-size: 11px;
    }

    .top-menu {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      border: 1px solid var(--border-card);
      display: grid;
      place-items: center;
      cursor: pointer;
    }

    .top-menu span {
      width: 15px;
      height: 1.5px;
      background: var(--ink-main);
      border-radius: 999px;
      position: relative;
    }

    .top-menu span::before,
    .top-menu span::after {
      content: "";
      position: absolute;
      left: 0;
      width: 15px;
      height: 1.5px;
      border-radius: 999px;
      background: var(--ink-main);
    }

    .top-menu span::before {
      top: -4px;
    }

    .top-menu span::after {
      top: 4px;
    }

    /* Pages */
    .page {
      display: none;
    }

    .page-active {
      display: block;
    }

    /* Dashboard header */
    .dash-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .dash-eyebrow {
      font-size: 11px;
      letter-spacing: 0.13em;
      text-transform: uppercase;
      color: var(--ink-muted);
    }

    .dash-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--ink-main);
    }

    .dash-avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid var(--border-card);
      background: radial-gradient(circle at top left, #111827, #020617);
      display: grid;
      place-items: center;
      font-size: 13px;
      color: var(--ink-main);
    }

    .dash-shell {
      margin-top: 6px;
    }

    /* Summary card */
    .summary-card {
      margin-top: 16px;
      padding: 18px 16px 16px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-card);
      background:
        radial-gradient(circle at top left, #111827, #020617 70%);
      box-shadow: var(--shadow-card);
    }

    .summary-label {
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--ink-muted);
    }

    .summary-value {
      margin-top: 6px;
      font-size: 26px;
      font-weight: 650;
    }

    .summary-sub {
      margin-top: 4px;
      font-size: 12px;
      color: var(--ink-sub);
    }

    .summary-breakdown {
      margin-top: 6px;
      font-size: 12px;
      color: var(--ink-muted);
    }

    /* Pill buttons */
    .summary-actions {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .pill-btn {
      border-radius: 999px;
      font-size: 13px;
      padding: 8px 14px;
      border: 1px solid transparent;
      background: transparent;
      color: var(--ink-main);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .pill-primary {
      background: linear-gradient(135deg, #00b4d8, #00e0ff);
      color: #020617;
      box-shadow: 0 12px 30px rgba(0, 208, 255, 0.4);
    }

    .pill-secondary {
      border-color: var(--accent-soft);
      background: rgba(15, 23, 42, 0.8);
    }

    .pill-ghost {
      border-color: transparent;
      color: var(--ink-sub);
    }

    /* Accounts */
    .accounts-stack {
      margin-top: 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .account-card {
      border-radius: var(--radius-md);
      background: var(--card-bg);
      border: 1px solid var(--border-card);
      padding: 12px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .account-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .account-icon {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: #020617;
      display: grid;
      place-items: center;
      font-size: 16px;
    }

    .account-icon-green {
      background: rgba(34, 197, 94, 0.15);
    }

    .account-icon-orange {
      background: rgba(249, 115, 22, 0.16);
    }

    .account-label {
      font-size: 13px;
      font-weight: 500;
    }

    .account-sub {
      font-size: 11px;
      color: var(--ink-muted);
    }

    .account-right {
      text-align: right;
    }

    .account-amount {
      font-size: 15px;
      font-weight: 600;
    }

    .account-meta {
      font-size: 11px;
      color: var(--ink-muted);
      word-break: break-all;
    }

    /* Chart card */
    .chart-card {
      margin-top: 18px;
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chart-sub {
      margin-top: 2px;
      font-size: 11px;
      color: var(--ink-muted);
    }

    .chart-badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--accent-soft);
      background: rgba(15, 23, 42, 0.9);
      color: var(--ink-main);
    }

    .chart-body {
      margin-top: 10px;
      height: 160px;
    }

    .chart-link {
      margin-top: 8px;
      font-size: 12px;
      color: var(--accent);
      background: transparent;
      border: none;
      padding: 0;
      cursor: pointer;
    }

    /* Recent activity / transactions */
    .section-title-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }

    .section-title {
      font-size: 13px;
      font-weight: 500;
    }

    .section-sub {
      font-size: 11px;
      color: var(--ink-muted);
    }

    .filter-select {
      background: rgba(15, 23, 42, 0.9);
      border-radius: 999px;
      border: 1px solid var(--border-card);
      color: var(--ink-sub);
      font-size: 11px;
      padding: 4px 8px;
    }

    .txn-columns {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 8px;
    }

    .txn-block-title {
      font-size: 12px;
      color: var(--ink-muted);
      margin-bottom: 6px;
    }

    .txn-table-wrapper {
      display: none; /* mobile: hide table, show cards */
    }

    .txn-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    .txn-table th,
    .txn-table td {
      padding: 6px 4px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.12);
      text-align: left;
    }

    .txn-cards {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 2px;
    }

    .empty-state {
      font-size: 12px;
      color: var(--ink-muted);
      margin-top: 6px;
    }

    /* badges from JS */
    .px-2 {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    .py-1 {
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
    }
    .rounded-full {
      border-radius: 999px;
    }
    .text-xs {
      font-size: 0.75rem;
    }
    .font-semibold {
      font-weight: 600;
    }
    .bg-green-500\/15 {
      background-color: rgba(34, 197, 94, 0.15);
    }
    .bg-yellow-500\/15 {
      background-color: rgba(234, 179, 8, 0.15);
    }
    .bg-red-500\/15 {
      background-color: rgba(239, 68, 68, 0.15);
    }
    .text-green-400 {
      color: #4ade80;
    }
    .text-yellow-300 {
      color: #fde047;
    }
    .text-red-400 {
      color: #f87171;
    }
    .border {
      border-width: 1px;
    }
    .border-green-500\/20 {
      border-color: rgba(34, 197, 94, 0.2);
    }
    .border-yellow-500\/20 {
      border-color: rgba(234, 179, 8, 0.2);
    }
    .border-red-500\/20 {
      border-color: rgba(239, 68, 68, 0.2);
    }

    /* Analytics page */
    .analytics-grid {
      display: flex;
      flex-direction: column;
      gap: 14px;
      margin-top: 16px;
    }

    .kpi-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .kpi-card {
      flex: 1 1 45%;
      min-width: 150px;
      padding: 10px 12px;
      border-radius: var(--radius-md);
      background: var(--card-bg);
      border: 1px solid var(--border-card);
    }

    .kpi-label {
      font-size: 11px;
      color: var(--ink-muted);
    }

    .kpi-value {
      margin-top: 4px;
      font-size: 18px;
      font-weight: 600;
    }

    .kpi-extra {
      margin-top: 2px;
      font-size: 11px;
      color: var(--ink-sub);
    }

    /* Bottom tab bar */
    .tab-bar {
      position: sticky;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 8px 0 10px;
      background: linear-gradient(
        to top,
        rgba(5, 8, 22, 0.98),
        rgba(5, 8, 22, 0.85),
        transparent
      );
      display: flex;
      justify-content: center;
    }

    .tab-inner {
      width: 100%;
      max-width: 480px;
      padding: 0 16px;
    }

    .tab-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      border-radius: 999px;
      padding: 6px 8px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .tab-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
      font-size: 10px;
      color: var(--ink-muted);
      padding: 4px 0;
      cursor: pointer;
      border-radius: 999px;
    }

    .tab-item-active {
      background: rgba(0, 212, 255, 0.16);
      color: var(--ink-main);
    }

    .tab-dot {
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: currentColor;
    }

    @media (min-width: 640px) {
      .txn-table-wrapper {
        display: block;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- Top bar -->
    <header class="top-bar">
      <div class="top-brand">
        <div class="top-logo">â‚¬</div>
        <span>Credibe</span>
      </div>
      <button class="top-menu" type="button">
        <span></span>
      </button>
    </header>

    <!-- Main content -->
    <main class="app-main">
      <!-- DASHBOARD PAGE -->
      <section id="dashboard-page" class="page page-active">
        <div class="dash-header">
          <div>
            <p class="dash-eyebrow">Welcome back,</p>
            <h1 class="dash-title" id="welcome-user">Blaise Idoko</h1>
          </div>
          <button class="dash-avatar" type="button">
            <span class="avatar-initial">B</span>
          </button>
        </div>

        <div class="dash-shell">
          <!-- Total assets card -->
          <section class="summary-card">
            <p class="summary-label">Total assets</p>
            <p class="summary-value" id="totalBalance">â‚¬0.00</p>
            <p class="summary-sub">
              Combined balances across fiat and crypto accounts.
            </p>
            <p class="summary-breakdown">
              Fiat: <span id="fiatBalance">â‚¬0.00</span> Â· Crypto:
              <span id="cryptoBalance">â‚¬0.00</span>
            </p>

            <div class="summary-actions">
              <button class="pill-btn pill-secondary" data-page="add-money">
                + Add money
              </button>
              <button class="pill-btn pill-primary" data-page="transfers">
                â†— Transfer
              </button>
              <button class="pill-btn pill-ghost" data-page="analytics">
                ðŸ“Š Insights
              </button>
            </div>
          </section>

          <!-- Accounts stack -->
          <section class="accounts-stack">
            <article class="account-card">
              <div class="account-left">
                <div class="account-icon">ðŸ’³</div>
                <div>
                  <p class="account-label">Checking</p>
                  <p class="account-sub">Everyday spending account</p>
                </div>
              </div>
              <div class="account-right">
                <p class="account-amount" id="user-balance">â‚¬0.00</p>
                <p class="account-meta" id="checking-iban">â€”</p>
              </div>
            </article>

            <article class="account-card">
              <div class="account-left">
                <div class="account-icon account-icon-green">ðŸ’°</div>
                <div>
                  <p class="account-label">Savings</p>
                  <p class="account-sub">4.5% APY</p>
                </div>
              </div>
              <div class="account-right">
                <p class="account-amount" id="savingsAmount">â‚¬0.00</p>
                <p class="account-meta" id="savings-iban">â€”</p>
              </div>
            </article>

            <article class="account-card">
              <div class="account-left">
                <div class="account-icon account-icon-orange">â‚¿</div>
                <div>
                  <p class="account-label">Crypto</p>
                  <p class="account-sub">Spot &amp; custodial wallets</p>
                </div>
              </div>
              <div class="account-right">
                <p class="account-amount" id="creditAmount">â‚¬0.00</p>
                <p class="account-meta">Updated just now</p>
              </div>
            </article>
          </section>

          <!-- Spending overview chart -->
          <section class="summary-card chart-card">
            <header class="chart-header">
              <div>
                <p class="summary-label">Spending overview</p>
                <p class="chart-sub">Last 6 months</p>
              </div>
              <span class="chart-badge">June</span>
            </header>
            <div class="chart-body">
              <canvas id="spending-chart"></canvas>
            </div>
            <button class="chart-link" data-page="analytics">
              View details
            </button>
          </section>

          <!-- Recent activity (transactions) -->
          <section class="summary-card" style="margin-top: 18px;">
            <div class="section-title-row">
              <div>
                <p class="section-title">Recent activity</p>
                <p class="section-sub">Sent and received transactions</p>
              </div>
              <select id="transaction-filter" class="filter-select">
                <option value="7">Last 7 days</option>
                <option value="30" selected>Last 30 days</option>
                <option value="90">Last 90 days</option>
                <option value="all">All time</option>
              </select>
            </div>

            <div class="txn-columns">
              <!-- Money out -->
              <div>
                <p class="txn-block-title">Money out</p>

                <div class="txn-table-wrapper">
                  <table class="txn-table">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>To</th>
                        <th>Amount</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="transactions-table-sent"></tbody>
                  </table>
                </div>

                <div id="transactions-cards-sent" class="txn-cards"></div>
                <p class="empty-state empty-state-sent hidden">
                  You havenâ€™t sent any money yet.
                </p>
              </div>

              <!-- Money in -->
              <div>
                <p class="txn-block-title" style="margin-top: 4px;">Money in</p>

                <div class="txn-table-wrapper">
                  <table class="txn-table">
                    <thead>
                      <tr>
                        <th>Date</th>
                        <th>From</th>
                        <th>Amount</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="transactions-table-received"></tbody>
                  </table>
                </div>

                <div id="transactions-cards-received" class="txn-cards"></div>
                <p class="empty-state empty-state-received hidden">
                  No incoming payments yet.
                </p>
              </div>
            </div>
          </section>
        </div>
      </section>

      <!-- ANALYTICS PAGE -->
      <section id="analytics-page" class="page">
        <div class="dash-header">
          <div>
            <p class="dash-eyebrow">Insights</p>
            <h1 class="dash-title">Spending analytics</h1>
          </div>
        </div>

        <div class="analytics-grid">
          <div class="summary-card">
            <div class="section-title-row">
              <div>
                <p class="section-title">Overview</p>
                <p class="section-sub">Rolling vs previous period</p>
              </div>
              <select id="analytics-range" class="filter-select">
                <option value="3m">3 months</option>
                <option value="6m" selected>6 months</option>
                <option value="12m">12 months</option>
              </select>
            </div>

            <div class="kpi-row">
              <div class="kpi-card">
                <p class="kpi-label">Total spent</p>
                <p class="kpi-value" id="kpi-total">â‚¬0</p>
                <p class="kpi-extra" id="kpi-total-diff">â€”</p>
              </div>

              <div class="kpi-card">
                <p class="kpi-label">Average ticket</p>
                <p class="kpi-value" id="kpi-avg">â‚¬0</p>
                <p class="kpi-extra">
                  <span id="kpi-avg-count">0 txns</span>
                </p>
              </div>

              <div class="kpi-card">
                <p class="kpi-label">Top category</p>
                <p class="kpi-value" id="kpi-topcat">â€”</p>
                <p class="kpi-extra" id="kpi-topcat-share">â€”</p>
              </div>

              <div class="kpi-card">
                <p class="kpi-label">MoM change</p>
                <p class="kpi-value" id="kpi-mom">â‚¬0</p>
                <p class="kpi-extra" id="kpi-mom-desc">â€”</p>
              </div>
            </div>
          </div>

          <div class="summary-card chart-card">
            <header class="chart-header">
              <div>
                <p class="summary-label">Monthly trend</p>
                <p class="chart-sub">Bar chart of monthly spend</p>
              </div>
            </header>
            <div class="chart-body" style="height: 190px;">
              <canvas id="monthly-spending-chart"></canvas>
            </div>
          </div>

          <div class="summary-card chart-card">
            <header class="chart-header">
              <div>
                <p class="summary-label">By category</p>
                <p class="chart-sub">Share of spend by category</p>
              </div>
            </header>
            <div class="chart-body" style="height: 200px;">
              <canvas id="category-spending-chart"></canvas>
            </div>
            <div style="margin-top: 8px; font-size: 11px; color: var(--ink-muted); display: flex; flex-wrap: wrap; gap: 6px;">
              <span>Groceries: <strong id="cat-gro">32%</strong></span>
              <span>Bills: <strong id="cat-bil">24%</strong></span>
              <span>Entertainment: <strong id="cat-ent">18%</strong></span>
              <span>Travel: <strong id="cat-tra">15%</strong></span>
              <span>Other: <strong id="cat-oth">11%</strong></span>
            </div>
          </div>
        </div>
      </section>

      <!-- LOGOUT PAGE (simple) -->
      <section id="logout-page" class="page">
        <div class="dash-header">
          <div>
            <p class="dash-eyebrow">Account</p>
            <h1 class="dash-title">Sign out</h1>
          </div>
        </div>

        <section class="summary-card" style="margin-top: 20px;">
          <p class="summary-sub">
            Youâ€™re about to log out of your Credibe account on this device.
          </p>
          <button
            id="confirm-logout"
            class="pill-btn pill-primary"
            style="margin-top: 16px;"
          >
            Log out
          </button>
        </section>
      </section>
    </main>

    <!-- Bottom tab bar -->
    <nav class="tab-bar">
      <div class="tab-inner">
        <div class="tab-nav">
          <button
            class="tab-item tab-item-active"
            type="button"
            data-page-target="dashboard-page"
          >
            <span>Home</span>
            <span class="tab-dot"></span>
          </button>
          <button
            class="tab-item"
            type="button"
            data-page-target="analytics-page"
          >
            <span>Insights</span>
          </button>
          <button
            class="tab-item"
            type="button"
            data-page-target="logout-page"
          >
            <span>Logout</span>
          </button>
        </div>
      </div>
    </nav>
  </div>

  <!-- JS: transaction logic + main dashboard logic -->
  <script src="js/dashboard-transactions.js" defer></script>
  <script src="js/dashboard-main.js" defer></script>

  <!-- Small helper to switch pages using data-page-target (you can move this into dashboard-main.js later) -->
  <script>
    function showPage(id) {
      document.querySelectorAll(".page").forEach(p => {
        p.classList.toggle("page-active", p.id === id);
      });
      document.querySelectorAll(".tab-item").forEach(btn => {
        btn.classList.toggle(
          "tab-item-active",
          btn.dataset.pageTarget === id
        );
      });
      window.scrollTo({ top: 0 });
    }

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll("[data-page-target]").forEach(btn => {
        btn.addEventListener("click", () => showPage(btn.dataset.pageTarget));
      });
    });
  </script>
</body>
</html>
